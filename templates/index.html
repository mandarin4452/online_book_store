{% extends "layout.html" %}

{% block head %}
{% endblock %}



{% block body %}
      <h1 class="mt-4 display-4 mb-2">도서 검색</h1>
      <form action="/search" method="GET">
      <div class="input-group mb-3" >
      <select class="custom-select" name="search_option" id="search_option">
            <option selected value="">검색 분야를 선택해주세요.</option>
            <option value="author">저자</option>
            <option value="title">제목</option>
            <option value="publisher">출판사</option>
      </select>
      <input name="keyword" type="text" class="form-control" placeholder="검색할 키워드를 입력해주세요.">
      <div class="input-group-append" >
                  <button class="btn btn-primary" type="submit">Search</button>
      </div>
      </div>      
      </form>
      <div class="row" style="margin-top: 5%;">
            <div class="col">
                  <h2>베스트 셀러</h2>
                  <table class="table table-sm">
                        <thead>
                              <tr>
                                    <th>Thumbnail</th>
                                    <th>Title</th>
                                    <th>Author</th>
                                    <th>Price</th>
                                    <th>Add to Cart</th>
                              </tr>
                        </thead>
                        <tbody>
                        {% for book in best_seller %}
                              <tr>
                                    <th style = "vertical-align: middle" ><a href="{{book[1]}}"><img height = "90" src="{{book[2]}}" alt=""></a></th>
                                    <th style = "vertical-align: middle">{{book[0]}}</th>
                                    <th style = "vertical-align: middle">{{book[5]}}</th>
                                    <th style = "vertical-align: middle">{{book[3]}}원</th>
                                    <th style = "vertical-align: middle">
                                          <button class="btn btn-primary" onclick="addToCart(this.value)"  value='{{book}}'>담기</button>
                                    </th>
                                    
                                    
                              </tr>
                        {% endfor %}
                        </tbody>
                  </table>
            </div>
            <div class="col">
                  <h2>신간 도서</h2>
                  <table class="table table-sm">
                        <thead>
                              <tr>
                                    <th>Thumbnail</th>
                                    <th>Title</th>
                                    <th>Author</th>
                                    <th>Price</th>
                                    <th>Add to Cart</th>
                              </tr>
                        </thead>
                        <tbody>
                        {% for book in new_books %}
                              <tr>
                                    <th style = "vertical-align: middle"><a href = "{{book[1]}}"><img height = "90" src="{{book[2]}}" alt=""></a></th>
                                    <th style = "vertical-align: middle">{{book[0]}}</th>
                                    <th style = "vertical-align: middle">{{book[5]}}</th>
                                    <th style = "vertical-align: middle">{{book[3]}}원</th>
                                    <th style = "vertical-align: middle"><button class="btn btn-primary">담기</button></th>
                              </tr>
                        {% endfor %}
                        </tbody>
                  </table>
            </div>
            
      </div>
      <script>
            function addToCart(val) {
                  console.log(val);
                  window.location.href('/add_to_cart',(val));
            }
      </script>       
{% endblock %}
